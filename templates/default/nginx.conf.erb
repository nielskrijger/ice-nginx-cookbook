## This file is generated by Chef, DO NOT EDIT MANUALLY

user <%= node['ice_nginx']['conf']['worker_user'] -%> <%= node['ice_nginx']['conf']['worker_group'] -%>;
<%= node['ice_nginx']['conf']['worker_processes'] ? "worker_processes #{node['ice_nginx']['conf']['worker_processes']};" : '' -%>

error_log <%= node['ice_nginx']['conf']['error_log'] -%>;
pid <%= node['ice_nginx']['conf']['pid_file'] -%>;
<%= node['ice_nginx']['conf']['worker_rlimit_nofile'] ? "worker_rlimit_nofile #{node['ice_nginx']['conf']['worker_rlimit_nofile']};" : '' -%>

events {
    <%= node['ice_nginx']['conf']['worker_connections'] ? "worker_connections #{node['ice_nginx']['conf']['worker_connections']};": '' -%>
}

http {
    <% node['ice_nginx']['conf']['includes'].each do |include| %>
    <%= "include #{include};" %>
    <% end %>
    <%= node['ice_nginx']['conf']['default_type'] ? "default_type #{node['ice_nginx']['conf']['default_type']};" : '' %>
    <%= node['ice_nginx']['conf']['sendfile'] ? "sendfile #{node['ice_nginx']['conf']['sendfile']};" : '' %>
    <%= node['ice_nginx']['conf']['keepalive_timeout'] ? "keepalive_timeout #{node['ice_nginx']['conf']['keepalive_timeout']};" : '' %>

  include <%= node['ice_nginx']['conf']['conf_files_mask'] %>;
  include <%= node['ice_nginx']['conf']['sites_enabled'] %>/*;
}
